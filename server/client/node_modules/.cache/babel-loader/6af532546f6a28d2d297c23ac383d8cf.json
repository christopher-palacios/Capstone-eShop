{"ast":null,"code":"import _slicedToArray from\"/Users/christopherpalacios/Desktop/christopher-palacios-capstone-c41/eShop/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import ShoppingCartRoundedIcon from\"@material-ui/icons/ShoppingCartRounded\";import LoginModal from\"../LoginModal/LogInModal\";import SignUpModal from\"../SignUpModal/SignUpModal\";import\"./Header.scss\";import{Navbar,Nav,NavDropdown,Badge}from\"react-bootstrap\";import{AppContext}from\"../../AppContext/AppContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var _useContext=useContext(AppContext),currentUser=_useContext.currentUser,setCurrentUser=_useContext.setCurrentUser,cart=_useContext.cart,categoryList=_useContext.categoryList,setIsSignedIn=_useContext.setIsSignedIn;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),logInModalShow=_useState2[0],setLogInModalShow=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),signUpModalShow=_useState4[0],setSignUpModalShow=_useState4[1];var user=localStorage.getItem(\"user\");useEffect(function(){setCurrentUser(user);},[]);//LogIn Modal Switches\nvar handleLoginModalOpen=function handleLoginModalOpen(){setLogInModalShow(true);};var handleLoginModalClose=function handleLoginModalClose(){setLogInModalShow(false);};var handleLoginModalSwitch=function handleLoginModalSwitch(){setLogInModalShow(false);setSignUpModalShow(true);};//SignUp Modal Show\nvar handleSignupModalOpen=function handleSignupModalOpen(){setSignUpModalShow(true);};var handleSignupModalClose=function handleSignupModalClose(){setSignUpModalShow(false);};var handleSignupModalSwitch=function handleSignupModalSwitch(){setSignUpModalShow(false);setLogInModalShow(true);};//Sign user out by removing token and user from session storage\nvar handleSignOut=function handleSignOut(){localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");localStorage.removeItem(\"userId\");setCurrentUser(null);setIsSignedIn(false);};return/*#__PURE__*/_jsx(\"nav\",{className:\"nav\",children:/*#__PURE__*/_jsxs(Navbar,{className:\"nav__color\",variant:\"dark\",expand:\"sm\",children:[/*#__PURE__*/_jsx(Nav.Link,{className:\"nav__brand\",href:\"/\",children:\"eShop\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"mr-auto\",children:[/*#__PURE__*/_jsxs(NavDropdown,{className:\"dropp\",title:!(cart===null||cart===void 0?void 0:cart.cartQuantity)?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ShoppingCartRoundedIcon,{})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ShoppingCartRoundedIcon,{}),/*#__PURE__*/_jsx(Badge,{pill:true,variant:\"light\",children:cart.cartQuantity})]}),children:[categoryList.map(function(cat){return/*#__PURE__*/_jsxs(NavDropdown.Item,{className:\"nav__link\",href:\"/categories/\".concat(cat._id),children:[\"Shop \",cat.name]},cat._id);}),\" \",/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{className:\"nav__link\",href:\"/cart\",children:\"Your Cart\"})]}),/*#__PURE__*/_jsx(NavDropdown,{title:currentUser||\"Guest\",id:\"dropdown-menu-align-right\",children:currentUser?/*#__PURE__*/_jsx(NavDropdown.Item,{className:\"nav__link\",onClick:handleSignOut,children:\"Sign Out\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavDropdown.Item,{onClick:handleLoginModalOpen,children:\"Log In\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{className:\"nav__link\",onClick:handleSignupModalOpen,children:\"Create Account\"}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/about\",children:\"About Us\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/contact\",children:\"Contact Us\"})]})})]})}),/*#__PURE__*/_jsx(LoginModal,{onHide:handleLoginModalClose,show:logInModalShow,loginClose:handleLoginModalClose,loginSwitch:handleLoginModalSwitch}),/*#__PURE__*/_jsx(SignUpModal,{onHide:handleSignupModalClose,show:signUpModalShow,showLogin:logInModalShow,signupClose:handleSignupModalClose,signupSwitch:handleSignupModalSwitch})]})});}export default Header;","map":{"version":3,"sources":["/Users/christopherpalacios/Desktop/christopher-palacios-capstone-c41/eShop/server/client/src/components/Header/Header.jsx"],"names":["React","useContext","useEffect","useState","ShoppingCartRoundedIcon","LoginModal","SignUpModal","Navbar","Nav","NavDropdown","Badge","AppContext","Header","currentUser","setCurrentUser","cart","categoryList","setIsSignedIn","logInModalShow","setLogInModalShow","signUpModalShow","setSignUpModalShow","user","localStorage","getItem","handleLoginModalOpen","handleLoginModalClose","handleLoginModalSwitch","handleSignupModalOpen","handleSignupModalClose","handleSignupModalSwitch","handleSignOut","removeItem","cartQuantity","map","cat","_id","name"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport ShoppingCartRoundedIcon from \"@material-ui/icons/ShoppingCartRounded\";\nimport LoginModal from \"../LoginModal/LogInModal\";\nimport SignUpModal from \"../SignUpModal/SignUpModal\";\nimport \"./Header.scss\";\nimport { Navbar, Nav, NavDropdown, Badge } from \"react-bootstrap\";\nimport { AppContext } from \"../../AppContext/AppContext\";\n\nfunction Header() {\n  const { currentUser, setCurrentUser, cart, categoryList, setIsSignedIn } =\n    useContext(AppContext);\n  const [logInModalShow, setLogInModalShow] = useState(false);\n  const [signUpModalShow, setSignUpModalShow] = useState(false);\n  const user = localStorage.getItem(\"user\");\n\n  useEffect(() => {\n    setCurrentUser(user);\n  }, []);\n\n  //LogIn Modal Switches\n  const handleLoginModalOpen = () => {\n    setLogInModalShow(true);\n  };\n  const handleLoginModalClose = () => {\n    setLogInModalShow(false);\n  };\n  const handleLoginModalSwitch = () => {\n    setLogInModalShow(false);\n    setSignUpModalShow(true);\n  };\n\n  //SignUp Modal Show\n  const handleSignupModalOpen = () => {\n    setSignUpModalShow(true);\n  };\n  const handleSignupModalClose = () => {\n    setSignUpModalShow(false);\n  };\n  const handleSignupModalSwitch = () => {\n    setSignUpModalShow(false);\n    setLogInModalShow(true);\n  };\n\n  //Sign user out by removing token and user from session storage\n  const handleSignOut = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"userId\");\n    setCurrentUser(null);\n    setIsSignedIn(false);\n  };\n  return (\n    <nav className=\"nav\">\n      <Navbar className=\"nav__color\" variant=\"dark\" expand=\"sm\">\n        <Nav.Link className=\"nav__brand\" href=\"/\">\n          eShop\n        </Nav.Link>\n\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <NavDropdown\n              className=\"dropp\"\n              title={\n                !cart?.cartQuantity ? (\n                  <>\n                    <ShoppingCartRoundedIcon />\n                  </>\n                ) : (\n                  <>\n                    <ShoppingCartRoundedIcon />\n                    <Badge pill variant=\"light\">\n                      {cart.cartQuantity}\n                    </Badge>\n                  </>\n                )\n              }\n            >\n              {categoryList.map((cat) => {\n                return (\n                  <NavDropdown.Item\n                    className=\"nav__link\"\n                    key={cat._id}\n                    href={`/categories/${cat._id}`}\n                  >\n                    Shop {cat.name}\n                  </NavDropdown.Item>\n                );\n              })}{\" \"}\n              <NavDropdown.Divider />\n              <NavDropdown.Item className=\"nav__link\" href=\"/cart\">\n                Your Cart\n              </NavDropdown.Item>\n            </NavDropdown>\n            <NavDropdown\n              title={currentUser || \"Guest\"}\n              id=\"dropdown-menu-align-right\"\n            >\n              {currentUser ? (\n                <NavDropdown.Item className=\"nav__link\" onClick={handleSignOut}>\n                  Sign Out\n                </NavDropdown.Item>\n              ) : (\n                <>\n                  <NavDropdown.Item onClick={handleLoginModalOpen}>\n                    Log In\n                  </NavDropdown.Item>\n                  <NavDropdown.Item\n                    className=\"nav__link\"\n                    onClick={handleSignupModalOpen}\n                  >\n                    Create Account\n                  </NavDropdown.Item>\n                  <NavDropdown.Divider />\n                  <NavDropdown.Item href=\"/about\">About Us</NavDropdown.Item>\n                  <NavDropdown.Item href=\"/contact\">\n                    Contact Us\n                  </NavDropdown.Item>\n                </>\n              )}\n            </NavDropdown>\n          </Nav>\n        </Navbar.Collapse>\n        <LoginModal\n          onHide={handleLoginModalClose}\n          show={logInModalShow}\n          loginClose={handleLoginModalClose}\n          loginSwitch={handleLoginModalSwitch}\n        />\n        <SignUpModal\n          onHide={handleSignupModalClose}\n          show={signUpModalShow}\n          showLogin={logInModalShow}\n          signupClose={handleSignupModalClose}\n          signupSwitch={handleSignupModalSwitch}\n        />\n      </Navbar>\n    </nav>\n  );\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}