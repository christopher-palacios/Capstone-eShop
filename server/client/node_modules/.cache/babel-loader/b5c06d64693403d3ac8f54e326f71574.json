{"ast":null,"code":"import _slicedToArray from\"/Users/christopherpalacios/Desktop/christopher-palacios-capstone-c41/eShop/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useState,useEffect,useContext//  useContext\n}from\"react\";// import { AppContext } from \"../../AppContext/AppContext\";\nimport\"./itemList.scss\";import{Nav,Card,CardDeck,Form,FormControl,Button,Dropdown,DropdownButton}from\"react-bootstrap\";import{AppContext}from\"../../AppContext/AppContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var baseUrl=\"http://localhost:8080/api\";function ItemList(props){// const guestCart = JSON.parse(localStorage.getItem(\"guestCart\"));\n// const { productList } = useContext(AppContext);\nvar _useContext=useContext(AppContext),categoryList=_useContext.categoryList;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedCategory=_useState2[0],setSelectedCategory=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),drop=_useState6[0],setDrop=_useState6[1];var handleChange=function handleChange(e){setSearch(e.target.value);};var id=props.match.params.id;var getSelected=function getSelected(){axios.get(\"\".concat(baseUrl,\"/categories/\").concat(id)).then(function(res){setSelectedCategory(res.data);});};useEffect(function(){var _current$;getSelected();var current=categoryList.filter(function(cat){return cat._id===id;});setDrop((_current$=current[0])===null||_current$===void 0?void 0:_current$.name);},[categoryList,id]);return/*#__PURE__*/_jsxs(\"section\",{className:\"itemList\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sub-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"sub-nav__links\",activeKey:\"/home\",children:[/*#__PURE__*/_jsxs(DropdownButton,{id:\"dropdown-basic-button\",variant:\"Secondary\",title:drop,children:[categoryList.map(function(cat){return/*#__PURE__*/_jsx(Dropdown.Item,{href:\"/categories/\".concat(cat._id),children:cat.name},cat._id);}),/*#__PURE__*/_jsx(Dropdown.Item,{href:\"/categories\",children:\"Categories\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sub-nav__form\",children:/*#__PURE__*/_jsxs(Form,{inline:true,children:[/*#__PURE__*/_jsx(FormControl,{type:\"text\",onChange:handleChange,placeholder:\"Search\",className:\"sub-nav__form--input\"}),/*#__PURE__*/_jsx(Button,{className:\"sub-nav__form--button\",variant:\"outline\",children:\"Search\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"shop\",children:/*#__PURE__*/_jsx(\"div\",{className:\"shop__container\",children:/*#__PURE__*/_jsx(CardDeck,{className:\"shop__card\",children:selectedCategory===null||selectedCategory===void 0?void 0:selectedCategory.filter(function(item){return item.name.toLowerCase().includes(search.toLowerCase());}).map(function(product){return/*#__PURE__*/_jsxs(Card,{className:\"shop__card--indv\",children:[/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Card.Link,{className:\"shop__card--top\",href:\"/product/\".concat(product._id),children:/*#__PURE__*/_jsx(Card.Img,{className:\"shop__card--img\",variant:\"top\",src:product.image})})}),/*#__PURE__*/_jsxs(Card.Footer,{className:\"shop__card--footer\",children:[/*#__PURE__*/_jsx(Card.Title,{children:product.name}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:/*#__PURE__*/_jsx(Card.Text,{children:product.price})})]})]},product._id);})})})})]});}export default ItemList;","map":{"version":3,"sources":["/Users/christopherpalacios/Desktop/christopher-palacios-capstone-c41/eShop/server/client/src/pages/itemList/itemList.jsx"],"names":["axios","React","useState","useEffect","useContext","Nav","Card","CardDeck","Form","FormControl","Button","Dropdown","DropdownButton","AppContext","baseUrl","ItemList","props","categoryList","selectedCategory","setSelectedCategory","search","setSearch","drop","setDrop","handleChange","e","target","value","id","match","params","getSelected","get","then","res","data","current","filter","cat","_id","name","map","item","toLowerCase","includes","product","image","price"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, {\n  useState,\n  useEffect,\n  useContext,\n  //  useContext\n} from \"react\";\n// import { AppContext } from \"../../AppContext/AppContext\";\nimport \"./itemList.scss\";\nimport {\n  Nav,\n  Card,\n  CardDeck,\n  Form,\n  FormControl,\n  Button,\n  Dropdown,\n  DropdownButton,\n} from \"react-bootstrap\";\nimport { AppContext } from \"../../AppContext/AppContext\";\n\nconst baseUrl = \"http://localhost:8080/api\";\n\nfunction ItemList(props) {\n  // const guestCart = JSON.parse(localStorage.getItem(\"guestCart\"));\n  // const { productList } = useContext(AppContext);\n  const { categoryList } = useContext(AppContext);\n  const [selectedCategory, setSelectedCategory] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [drop, setDrop] = useState(\"\");\n\n  const handleChange = (e) => {\n    setSearch(e.target.value);\n  };\n  const { id } = props.match.params;\n\n  const getSelected = () => {\n    axios.get(`${baseUrl}/categories/${id}`).then((res) => {\n      setSelectedCategory(res.data);\n    });\n  };\n\n  useEffect(() => {\n    getSelected();\n    let current = categoryList.filter((cat) => {\n      return cat._id === id;\n    });\n    setDrop(current[0]?.name);\n  }, [categoryList, id]);\n  return (\n    <section className=\"itemList\">\n      <div className=\"sub-nav\">\n        <Nav className=\"sub-nav__links\" activeKey=\"/home\">\n          <DropdownButton\n            id=\"dropdown-basic-button\"\n            variant=\"Secondary\"\n            title={drop}\n          >\n            {categoryList.map((cat) => {\n              return (\n                <Dropdown.Item key={cat._id} href={`/categories/${cat._id}`}>\n                  {cat.name}\n                </Dropdown.Item>\n              );\n            })}\n            <Dropdown.Item href={`/categories`}>Categories</Dropdown.Item>\n          </DropdownButton>\n          <div className=\"sub-nav__form\">\n            <Form inline>\n              <FormControl\n                type=\"text\"\n                onChange={handleChange}\n                placeholder=\"Search\"\n                className=\"sub-nav__form--input\"\n              />\n              <Button className=\"sub-nav__form--button\" variant=\"outline\">\n                Search\n              </Button>\n            </Form>\n          </div>\n        </Nav>\n      </div>\n      <div className=\"shop\">\n        <div className=\"shop__container\">\n          <CardDeck className=\"shop__card\">\n            {selectedCategory\n              ?.filter((item) => {\n                return item.name.toLowerCase().includes(search.toLowerCase());\n              })\n              .map((product) => {\n                return (\n                  <Card className=\"shop__card--indv\" key={product._id}>\n                    <Card.Body>\n                      <Card.Link\n                        className=\"shop__card--top\"\n                        href={`/product/${product._id}`}\n                      >\n                        <Card.Img\n                          className=\"shop__card--img\"\n                          variant=\"top\"\n                          src={product.image}\n                        />\n                      </Card.Link>\n                    </Card.Body>\n                    <Card.Footer className=\"shop__card--footer\">\n                      <Card.Title>{product.name}</Card.Title>\n\n                      <small className=\"text-muted\">\n                        <Card.Text>{product.price}</Card.Text>\n                      </small>\n                    </Card.Footer>\n                  </Card>\n                );\n              })}\n          </CardDeck>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ItemList;\n"]},"metadata":{},"sourceType":"module"}